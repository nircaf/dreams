<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dreams  - Smart Sleep Enhancement Mask</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">dreams </div>
            <div class="nav-links">
                <a href="#how-it-works">How It Works</a>
                <a href="#science">Science</a>
                <a href="#benefits">Benefits</a>
                <a href="#waitlist">Waitlist</a>
            </div>
        </nav>
    </header>

    <section id="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Better Sleep, Smarter Recovery</h1>
                <p>Experience the future of sleep with our revolutionary tVNS sleep mask that enhances sleep quality using transcutaneous vagus nerve stimulation</p>
                <button class="cta-button" onclick="document.querySelector('#waitlist').scrollIntoView({behavior: 'smooth'})">Join the Waiting List</button>
            </div>
                <img src="product_v0.png" alt="dreams  Mask" class="product-animation">
        </div>
    </section>

    <section id="product-overview">
        <div class="container">
            <h2>Revolutionizing Your Sleep Experience</h2>
            <div class="features">
                <div class="feature-card">
                    <div class="icon"><i class="fas fa-brain"></i></div>
                    <h3>Advanced tVNS Technology</h3>
                    <p>Gentle electrical stimulation of your vagus nerve promotes relaxation and deeper sleep cycles</p>
                </div>
                <div class="feature-card">
                    <div class="icon"><i class="fas fa-heartbeat"></i></div>
                    <h3>Anxiety Reduction</h3>
                    <p>Naturally calms your nervous system, reducing stress and anxiety before sleep</p>
                </div>
                <div class="feature-card">
                    <div class="icon"><i class="fas fa-moon"></i></div>
                    <h3>Enhanced Sleep Quality</h3>
                    <p>Improves deep sleep phases for better recovery and morning alertness</p>
                </div>
            </div>
        </div>
    </section>

    <section id="how-it-works">
        <div class="container">
            <h2>How dreams  Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">01</div>
                    <div class="step-content">
                        <h3>Comfortable Fit</h3>
                        <p>Put on the ultra-soft sleep mask before bedtime. The embedded electrodes make gentle contact with your skin.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">02</div>
                    <div class="step-content">
                        <h3>Gentle Stimulation</h3>
                        <p>The mask delivers precisely calibrated electrical impulses to your vagus nerve through the skin.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">03</div>
                    <div class="step-content">
                        <h3>Neural Relaxation</h3>
                        <p>Your parasympathetic nervous system activates, lowering stress hormones and preparing your brain for deep sleep.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">04</div>
                    <div class="step-content">
                        <h3>Deeper Sleep</h3>
                        <p>Experience improved sleep architecture with longer deep sleep phases and more efficient REM cycles.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="science">
        <div class="container">
            <h2>Backed by Science</h2>
            <div class="science-grid">
                <div class="science-card">
                    <div class="science-image">
                        <img src="placeholder-research.png" alt="Scientific Research">
                    </div>
                    <div class="science-content">
                        <h3>Clinical Research</h3>
                        <p>Studies show tVNS can improve heart rate variability (HRV), a key marker of relaxation and sleep quality.</p>
                        <a href="#" class="learn-more">Read Study</a>
                    </div>
                </div>
                <div class="science-card">
                    <div class="science-image">
                        <img src="placeholder-brain.png" alt="Brain Activity">
                    </div>
                    <div class="science-content">
                        <h3>Brain Activity</h3>
                        <p>EEG measurements demonstrate improved slow-wave sleep after tVNS treatment, enhancing memory consolidation.</p>
                        <a href="#" class="learn-more">Read Study</a>
                    </div>
                </div>
                <div class="science-card">
                    <div class="science-image">
                        <img src="placeholder-graph.png" alt="Sleep Metrics">
                    </div>
                    <div class="science-content">
                        <h3>Sleep Metrics</h3>
                        <p>Users report falling asleep 37% faster and experiencing 42% fewer nighttime awakenings.</p>
                        <a href="#" class="learn-more">Read Study</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="comparison">
        <div class="container">
            <h2>Why It's Different</h2>
            <!-- <div class="hero-image">
                <div class="product-image-container">
                    <div class="product-mask">
                        <div class="mask-shape"></div>
                        <div class="mask-glow"></div>
                        <div class="mask-strap left"></div>
                        <div class="mask-strap right"></div>
                        <div class="mask-led one"></div>
                        <div class="mask-led two"></div>
                        <div class="mask-button"></div>
                    </div>
                </div>
            </div> -->
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>dreams  Mask</th>
                            <th>Sleep Medication</th>
                            <th>Traditional Sleep Masks</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Side Effects</td>
                            <td><i class="fas fa-check"></i> None</td>
                            <td><i class="fas fa-times"></i> Multiple</td>
                            <td><i class="fas fa-check"></i> None</td>
                        </tr>
                        <tr>
                            <td>Dependency Risk</td>
                            <td><i class="fas fa-check"></i> Non-addictive</td>
                            <td><i class="fas fa-times"></i> Potential dependency</td>
                            <td><i class="fas fa-check"></i> Non-addictive</td>
                        </tr>
                        <tr>
                            <td>Improves Sleep Architecture</td>
                            <td><i class="fas fa-check"></i> Yes</td>
                            <td><i class="fas fa-times"></i> Often disrupts</td>
                            <td><i class="fas fa-times"></i> No</td>
                        </tr>
                        <tr>
                            <td>Active Technology</td>
                            <td><i class="fas fa-check"></i> tVNS stimulation</td>
                            <td><i class="fas fa-times"></i> Chemical only</td>
                            <td><i class="fas fa-times"></i> Passive darkness</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section id="waitlist">
        <div class="container">
            <h2>Be the First to Experience dreams </h2>
            <p>Join our exclusive waiting list to be notified when our revolutionary sleep mask becomes available</p>
            <form class="waitlist-form" id="waitlistForm">
                <input type="email" placeholder="Your email address" required id="emailInput">
                <button type="submit" class="cta-button">Join Waiting List</button>
            </form>
            <p class="form-disclaimer">We respect your privacy and will never share your information. No spam, ever.</p>
            <div id="waitlistStatus"></div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-logo">
                        <p>Revolutionary sleep enhancement technology</p>
                </div>
                <div class="footer-links">
                    <h4>Navigation</h4>
                    <a href="#hero">Home</a>
                    <a href="#how-it-works">How It Works</a>
                    <a href="#science">Science</a>
                    <a href="#waitlist">Join Waitlist</a>
                </div>
                <!-- <div class="footer-social">
                    <h4>Follow Us</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div> -->
            </div>
            <div class="footer-bottom">
                <p class="disclaimer">dreams  Mask is a wellness device and is not intended to diagnose, treat, cure, or prevent any disease or medical condition.</p>
                <p class="copyright">&copy; 2023 dreams  Technologies. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Waitlist form handling with backend API
        document.addEventListener('DOMContentLoaded', function() {
            const waitlistForm = document.getElementById('waitlistForm');
            const emailInput = document.getElementById('emailInput');
            const waitlistStatus = document.getElementById('waitlistStatus');
            
            // Load current waitlist count from API
            fetch('/api/waitlist')
                .then(response => response.json())
                .then(data => {
                    if (data.count > 0) {
                        displayWaitlistStatus(data.count);
                    }
                })
                .catch(error => console.error('Error fetching waitlist data:', error));
            
            if (waitlistForm) {
                waitlistForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = emailInput.value.trim();
                    
                    // Simple validation
                    if (email && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                        // Submit to backend API
                        fetch('/api/waitlist', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ email: email })
                        })
                        .then(response => response.json())
                        .then(data => {
                            if (data.error) {
                                // Show error message
                                const errorMsg = document.createElement('p');
                                errorMsg.className = 'error-message';
                                errorMsg.textContent = data.error;
                                
                                // Remove any existing error message
                                const existingError = waitlistForm.querySelector('.error-message');
                                if (existingError) {
                                    existingError.remove();
                                }
                                
                                waitlistForm.appendChild(errorMsg);
                            } else {
                                // Show success message
                                waitlistForm.innerHTML = '<p class="success-message">Thank you for joining our waitlist! Your information has been saved.</p>';
                                
                                // After delay, restore form and show updated count
                                setTimeout(function() {
                                    waitlistForm.innerHTML = `
                                        <input type="email" placeholder="Your email address" required id="emailInput">
                                        <button type="submit" class="cta-button">Join Waiting List</button>
                                    `;
                                    
                                    // Show updated waitlist status
                                    displayWaitlistStatus(data.count);
                                    
                                    // Re-attach event listener
                                    document.getElementById('waitlistForm').addEventListener('submit', arguments.callee);
                                }, 3000);
                            }
                        })
                        .catch(error => {
                            console.error('Error:', error);
                            // Show error message
                            const errorMsg = document.createElement('p');
                            errorMsg.className = 'error-message';
                            errorMsg.textContent = 'There was an error submitting your email. Please try again later.';
                            
                            // Remove any existing error message
                            const existingError = waitlistForm.querySelector('.error-message');
                            if (existingError) {
                                existingError.remove();
                            }
                            
                            waitlistForm.appendChild(errorMsg);
                        });
                    } else {
                        // Show error message for invalid email
                        const errorMsg = document.createElement('p');
                        errorMsg.className = 'error-message';
                        errorMsg.textContent = 'Please enter a valid email address.';
                        
                        // Remove any existing error message
                        const existingError = waitlistForm.querySelector('.error-message');
                        if (existingError) {
                            existingError.remove();
                        }
                        
                        waitlistForm.appendChild(errorMsg);
                    }
                });
            }
            
            // Function to display waitlist status
            function displayWaitlistStatus(count) {
                waitlistStatus.innerHTML = `
                    <div class="waitlist-status">
                        <p>${count} ${count == 1 ? 'person has' : 'people have'} joined the waitlist</p>
                        <button class="view-waitlist-btn" id="viewWaitlistBtn">View Waitlist</button>
                    </div>
                `;
                
                // Add event listener for view button
                document.getElementById('viewWaitlistBtn').addEventListener('click', function() {
                    fetchAndShowWaitlist();
                });
            }
            
            // Function to fetch and show waitlist
            function fetchAndShowWaitlist() {
                fetch('/api/waitlist')
                    .then(response => response.json())
                    .then(data => {
                        const preview = document.createElement('div');
                        preview.className = 'waitlist-preview';
                        
                        if (data.count === 0) {
                            preview.innerHTML = '<p>No emails in waitlist yet.</p>';
                        } else {
                            let emailList = '<div class="email-list">';
                            data.entries.forEach(item => {
                                emailList += `<div class="email-item">
                                    <span class="email">${item.email}</span>
                                    <span class="date">${item.date}</span>
                                </div>`;
                            });
                            emailList += '</div>';
                            
                            preview.innerHTML = `
                                <h3>Waitlist Entries (${data.count})</h3>
                                ${emailList}
                                <button class="close-preview" id="closePreviewBtn">Close</button>
                            `;
                        }
                        
                        document.body.appendChild(preview);
                        
                        // Add close handler
                        document.getElementById('closePreviewBtn').addEventListener('click', function() {
                            preview.remove();
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching waitlist:', error);
                        alert('There was an error loading the waitlist. Please try again later.');
                    });
            }
        });
    </script>
</body>
</html> 